const E=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function o(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerpolicy&&(i.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?i.credentials="include":n.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(n){if(n.ep)return;n.ep=!0;const i=o(n);fetch(n.href,i)}};E();class r{constructor(e,o){this.x=e,this.y=o}addVec(e){return new r(this.x+e.x,this.y+e.y)}length(){return Math.sqrt(this.x**2+this.y**2)}negate(){return new r(this.x*-1,this.y*-1)}}const v=.5;class h{constructor(e,o,s=new r(0,0),n){this.pos=e,this.mass=o,this.velocity=s,this.color=n}calcGravityForce(e){const o=new r(this.pos.x-e.pos.x,this.pos.y-e.pos.y),s=o.length();if(s<10)return new r(0,0);const n=-v*this.mass*e.mass/s**3;return new r(n*o.x,n*o.y)}addVelocity(e){const o=new r(e.x/this.mass,e.y/this.mass);this.velocity=this.velocity.addVec(o)}updatePosition(){this.pos=this.pos.addVec(this.velocity)}render(e){e.fillStyle=this.color,e.beginPath(),e.arc(this.pos.x,this.pos.y,this.mass/100,0,2*Math.PI),e.fill()}}const p="rgb(200, 0, 0)",m="rgb(0, 0, 200)",R="rgb(0, 200, 0)",l=[new h(new r(700,500),1e3,new r(0,1),p),new h(new r(900,500),1e3,new r(0,-1),m)],u=document.querySelector("#gl"),w=L(u);var g;(g=document.getElementById("plus"))==null||g.addEventListener("click",()=>{const t=(o,s)=>Math.floor(Math.random()*(s-o+1))+o,e=[p,m,R];l.push(new h(new r(t(window.innerWidth*.25,window.innerWidth*.8),t(window.innerHeight*.2,window.innerHeight*.8)),t(100,3e3),new r(0,0),e[t(0,3)]))});let f=0,d=0,y=0,a=0;function P(t){f=1e3/t,y=Date.now(),x()}P(60);function L(t){if(!t){console.error("ERROR cant find canvas");return}t.width=window.innerWidth,t.height=window.innerHeight;const e=t.getContext("2d");if(!e){console.error("ERROR on getting rendering context");return}return e}function x(){requestAnimationFrame(x),d=Date.now(),a=d-y,!(a<=f)&&(y=d-a%f,w.clearRect(0,0,u.width,u.height),O(l),N(l),V(w,l))}function O(t){if(!(t.length<2))for(let e=0;e<t.length;++e)for(let o=0;o<t.length;++o){if(e===o)continue;const s=t[e],n=t[o],i=s.calcGravityForce(n),c=i.negate();s.addVelocity(i),n.addVelocity(c)}}function N(t){t.forEach(e=>e.updatePosition())}function V(t,e){e.forEach(o=>o.render(t))}
